/* variables para el tema claro */
:root {
    --color-primario: #ff006e;
    --color-primario-oscuro: #c40052;
    --color-secundario: #ffbe0b;
    --color-terciario: #3a86ff;

    --color-fondo: #fdfdfd;
    --color-fondo-alt: #f6f6f6;
    --color-texto: #1a1a1a;
    --color-texto-claro: #555555;
    --color-texto-inverso: #ffffff;

    --color-tarjeta: #ffffff;
    --color-borde: #e0e0e0;
    --color-sombra: rgba(255, 0, 110, 0.15);

    --color-exito: #06d6a0;
    --color-advertencia: #ff9f1c;
    --color-error: #ef233c;

    --transicion-rapida: 0.2s;
    --transicion-media: 0.3s;
    --transicion-lenta: 0.5s;
}

/* variables para el tema oscuro */
[data-tema="oscuro"] {
    --color-primario: #ff3796;
    --color-primario-oscuro: #ff006e;
    --color-secundario: #ffd166;
    --color-terciario: #4cc9f0;

    --color-fondo: #0d0d0d;
    --color-fondo-alt: #1a1a1a;
    --color-texto: #fafafa;
    --color-texto-claro: #cfcfcf;
    --color-texto-inverso: #0d0d0d;

    --color-tarjeta: #1a1a1a;
    --color-borde: #333333;
    --color-sombra: rgba(255, 55, 150, 0.2);

    --color-exito: #38f9d7;
    --color-advertencia: #f4a261;
    --color-error: #ff6b6b;
}

body {
    background-color: var(--color-fondo);
    color: var(--color-texto);
    font-family: 'Inter', 'Segoe UI', sans-serif;
    line-height: 1.6;
}

/* Diseño de página principal */
.seccion-comunidad {
    padding: 2rem 1rem;
    background: linear-gradient(180deg, var(--color-fondo), var(--color-fondo-alt));
    min-height: calc(100vh - 80px);
}

.contenedor-comunidad {
    max-width: 800px;
    margin: 0 auto;
    border-radius: 24px;
    overflow: hidden;
    background-color: transparent;
}

/* Header de la comunidad con nuevo diseño */
.cabecera-comunidad {
    position: relative;
    background: linear-gradient(135deg, var(--color-primario), #8d67ff);
    padding: 3rem 2rem;
    border-radius: 24px;
    margin-bottom: 2rem;
    box-shadow: 0 15px 30px rgba(107, 72, 255, 0.2);
    overflow: hidden;
}

.cabecera-comunidad::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 20%),
        radial-gradient(circle at 90% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 30%);
    z-index: 1;
}

.cabecera-comunidad::after {
    content: '';
    position: absolute;
    bottom: -10px;
    right: -10px;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    z-index: 0;
}

.titulo-comunidad {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
    color: var(--color-texto-inverso);
    position: relative;
    z-index: 2;
    text-transform: uppercase;
    letter-spacing: -0.5px;
}

.info-comunidad {
    position: relative;
    z-index: 2;
}

.descripcion-comunidad {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.9);
    max-width: 600px;
    line-height: 1.5;
    font-weight: 400;
}

/* Mensaje para usuarios no registrados */
.mensaje-invitado {
    background-color: var(--color-fondo-alt);
    border-radius: 20px;
    padding: 3rem 2rem;
    text-align: center;
    margin-bottom: 2rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.mensaje-invitado h2 {
    font-size: 1.7rem;
    margin-bottom: 1rem;
    font-weight: 700;
    color: var(--color-primario);
}

.mensaje-invitado p {
    font-size: 1.1rem;
    color: var(--color-texto-claro);
    max-width: 400px;
    margin: 0 auto 2rem;
}

/* Botones rediseñados */
.botones-accion {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.5rem;
}

.boton-primario {
    background-color: var(--color-primario);
    color: var(--color-texto-inverso);
    border: none;
    font-weight: 600;
    font-size: 0.95rem;
    padding: 0.8rem 2rem;
    border-radius: 12px;
    cursor: pointer;
    transition: all var(--transicion-media);
    box-shadow: 0 4px 15px rgba(107, 72, 255, 0.3);
    text-transform: lowercase;
    letter-spacing: 0.5px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.boton-primario:hover {
    background-color: var(--color-primario-oscuro);
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(107, 72, 255, 0.4);
}

.boton-secundario {
    background-color: transparent;
    color: var(--color-primario);
    border: 2px solid var(--color-primario);
    font-weight: 600;
    font-size: 0.95rem;
    padding: 0.8rem 2rem;
    border-radius: 12px;
    cursor: pointer;
    transition: all var(--transicion-media);
    text-transform: lowercase;
    letter-spacing: 0.5px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.boton-secundario:hover {
    background-color: rgba(107, 72, 255, 0.08);
    transform: translateY(-3px);
    box-shadow: 0 4px 15px rgba(107, 72, 255, 0.15);
}

/* Caja de publicación moderna */
.caja-publicar {
    background-color: var(--color-tarjeta);
    border-radius: 20px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid var(--color-borde);
    transition: box-shadow var(--transicion-media);
}

.caja-publicar:hover {
    box-shadow: 0 12px 40px rgba(107, 72, 255, 0.1);
}

.formulario-mensaje {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.cabecera-formulario {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.mini-foto-perfil {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid var(--color-primario);
    box-shadow: 0 3px 12px rgba(107, 72, 255, 0.2);
}

.nombre-usuario-mensaje {
    font-weight: 700;
    font-size: 1rem;
    color: var(--color-texto);
}

.grupo-formulario {
    position: relative;
}

#mensaje {
    width: 100%;
    padding: 1.2rem;
    border-radius: 16px;
    border: 2px solid var(--color-borde);
    background-color: var(--color-fondo);
    color: var(--color-texto);
    font-size: 1rem;
    transition: all var(--transicion-rapida);
    resize: vertical;
    min-height: 120px;
    font-family: inherit;
}

#mensaje:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 4px rgba(107, 72, 255, 0.1);
}

.contador-caracteres {
    position: absolute;
    bottom: 0.6rem;
    right: 1rem;
    font-size: 0.85rem;
    color: var(--color-texto-claro);
    background-color: var(--color-fondo);
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    opacity: 0.8;
}

/* Tarjetas de mensajes con nuevo diseño */
.lista-mensajes {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.tarjeta-mensaje {
    background-color: var(--color-tarjeta);
    border-radius: 20px;
    padding: 2rem;
    transition: all 0.3s ease;
    position: relative;
    border: 1px solid var(--color-borde);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.04);
    overflow: hidden;
}

.tarjeta-mensaje::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 4px;
    background: linear-gradient(to bottom, var(--color-primario), var(--color-secundario));
    opacity: 0;
    transition: opacity var(--transicion-media);
}

.tarjeta-mensaje:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(107, 72, 255, 0.12);
}

.tarjeta-mensaje:hover::before {
    opacity: 1;
}

.cabecera-mensaje {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.info-mensaje {
    flex: 1;
}

.nombre-usuario-mensaje {
    font-weight: 700;
    font-size: 1.1rem;
    display: block;
    margin-bottom: 0.2rem;
}

.fecha-mensaje {
    font-size: 0.85rem;
    color: var(--color-texto-claro);
}

.contenido-mensaje {
    font-size: 1.05rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
    word-break: break-word;
}

.contenido-mensaje p {
    margin-bottom: 1rem;
}

.contenido-mensaje p:last-child {
    margin-bottom: 0;
}

/* Acciones de mensaje rediseñadas */
.acciones-mensaje {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-borde);
}

.boton-accion-mensaje {
    background: transparent;
    border: none;
    padding: 0.6rem 1rem;
    border-radius: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-texto-claro);
    transition: all var(--transicion-rapida);
    font-size: 0.9rem;
}

.boton-accion-mensaje:hover {
    transform: translateY(-2px);
}

.boton-accion-mensaje.me-gusta:hover {
    color: var(--color-secundario);
    background-color: rgba(255, 94, 125, 0.08);
}

.boton-accion-mensaje.no-me-gusta:hover {
    color: var(--color-error);
    background-color: rgba(211, 47, 47, 0.08);
}

.boton-accion-mensaje.comentar:hover {
    color: var(--color-terciario);
    background-color: rgba(72, 219, 251, 0.08);
}

.boton-accion-mensaje.compartir:hover {
    color: var(--color-primario);
    background-color: rgba(107, 72, 255, 0.08);
}

.boton-accion-mensaje.activo.me-gusta {
    color: var(--color-secundario);
    background-color: rgba(255, 94, 125, 0.08);
    font-weight: 600;
}

.boton-accion-mensaje.activo.no-me-gusta {
    color: var(--color-error);
    background-color: rgba(211, 47, 47, 0.08);
    font-weight: 600;
}

.contador-acciones {
    font-weight: 600;
    font-size: 0.85rem;
}

/* Contenido vacío */
.mensaje-sin-contenido {
    text-align: center;
    padding: 3rem 2rem;
    background-color: var(--color-fondo-alt);
    border-radius: 20px;
    color: var(--color-texto-claro);
    font-size: 1.1rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
}

.mensaje-sin-contenido p {
    max-width: 400px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Mensaje de alerta rediseñado */
.mensaje-alerta {
    padding: 1rem 1.5rem;
    border-radius: 12px;
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    animation: slideDown 0.5s ease-out forwards;
}

.mensaje-alerta.exito {
    background-color: rgba(46, 139, 87, 0.1);
    border-left: 4px solid var(--color-exito);
    color: var(--color-exito);
}

.mensaje-alerta.error {
    background-color: rgba(211, 47, 47, 0.1);
    border-left: 4px solid var(--color-error);
    color: var(--color-error);
}

.mensaje-alerta.advertencia {
    background-color: rgba(245, 124, 0, 0.1);
    border-left: 4px solid var(--color-advertencia);
    color: var(--color-advertencia);
}

.mensaje-alerta i {
    font-size: 1.5rem;
}

.mensaje-alerta p {
    flex: 1;
    font-weight: 500;
    font-size: 0.95rem;
}

/* Sección de comentarios */
.seccion-comentarios {
    margin-top: 1.5rem;
    padding: 1.5rem;
    background-color: var(--color-fondo-alt);
    border-radius: 16px;
    border: 1px solid var(--color-borde);
}

.formulario-comentario {
    margin-bottom: 1.5rem;
}

.input-comentario {
    width: 100%;
    border: 1px solid var(--color-borde);
    border-radius: 12px;
    padding: 1rem;
    font-size: 0.95rem;
    background-color: var(--color-fondo);
    color: var(--color-texto);
    transition: all var(--transicion-rapida);
    resize: vertical;
    min-height: 80px;
    font-family: inherit;
    margin-bottom: 1rem;
}

.input-comentario:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px rgba(107, 72, 255, 0.1);
}

.botones-comentario {
    display: flex;
    justify-content: flex-end;
}

.lista-comentarios {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.comentario-item {
    padding: 1.2rem;
    border-radius: 12px;
    background-color: var(--color-tarjeta);
    border: 1px solid var(--color-borde);
    transition: all var(--transicion-rapida);
}

.comentario-item:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.cabecera-comentario {
    display: flex;
    align-items: center;
    margin-bottom: 0.8rem;
    gap: 0.8rem;
}

.nombre-usuario-comentario {
    font-weight: 700;
    font-size: 0.9rem;
}

.fecha-comentario {
    font-size: 0.8rem;
    color: var(--color-texto-claro);
}

.contenido-comentario {
    font-size: 0.95rem;
    line-height: 1.6;
}

.sin-comentarios, .cargando-comentarios {
    text-align: center;
    padding: 1.5rem;
    color: var(--color-texto-claro);
    background-color: rgba(107, 72, 255, 0.05);
    border-radius: 12px;
    font-size: 0.95rem;
}

/* Panel de desarrollador */
.panel-desarrollador {
    background: linear-gradient(to right, #232526, #414345);
    color: #fff;
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.panel-desarrollador h3 {
    margin-bottom: 1rem;
    font-size: 1.2rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #48dbfb;
}

.herramientas-desarrollador {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
}

.selector-comunidad {
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.boton-dev {
    background-color: rgba(255, 255, 255, 0.1);
    color: #fff;
    border: none;
    padding: 0.6rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.85rem;
}

.boton-dev:hover {
    background-color: rgba(255, 255, 255, 0.2);
}

.boton-dev.activo {
    background-color: var(--color-primario);
    color: white;
}

.contador-mensajes {
    background-color: rgba(0, 0, 0, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-size: 0.85rem;
}

.opciones-desarrollador-mensaje {
    margin-left: auto;
}

.boton-borrar-mensaje {
    background-color: rgba(211, 47, 47, 0.8);
    color: white;
    border: none;
    padding: 0.4rem 0.8rem;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s;
}

.boton-borrar-mensaje:hover {
    background-color: #d32f2f;
}

.dev-info {
    font-size: 0.8rem;
    color: var(--color-texto-claro);
    margin-left: auto;
    opacity: 0.6;
}

/* Mensaje flotante */
.mensaje-alerta-flotante {
    position: fixed;
    top: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    gap: 0.8rem;
    max-width: 500px;
    animation: showAlert 0.5s forwards, hideAlert 0.5s 4.5s forwards;
}

.mensaje-alerta-flotante.exito {
    background-color: var(--color-exito);
    color: white;
}

.mensaje-alerta-flotante.error {
    background-color: var(--color-error);
    color: white;
}

.mensaje-alerta-flotante.advertencia {
    background-color: var(--color-advertencia);
    color: white;
}

/* Animaciones */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes showAlert {
    from {
        opacity: 0;
        transform: translate(-50%, -20px);
    }
    to {
        opacity: 1;
        transform: translate(-50%, 0);
    }
}

@keyframes hideAlert {
    from {
        opacity: 1;
        transform: translate(-50%, 0);
    }
    to {
        opacity: 0;
        transform: translate(-50%, -20px);
    }
}

/* Adaptación para dispositivos móviles */
@media (max-width: 768px) {
    .cabecera-comunidad {
        padding: 2rem 1.5rem;
    }
    
    .titulo-comunidad {
        font-size: 2rem;
    }
    
    .tarjeta-mensaje {
        padding: 1.5rem;
    }
    
    .herramientas-desarrollador {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .selector-comunidad {
        flex-wrap: wrap;
    }
}

@media (max-width: 480px) {
    .botones-accion {
        flex-direction: column;
        width: 100%;
    }
    
    .boton-primario, .boton-secundario {
        width: 100%;
    }
    
    .acciones-mensaje {
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .boton-accion-mensaje {
        flex: 1;
        justify-content: center;
    }
    
    .mini-foto-perfil {
        width: 40px;
        height: 40px;
    }
    
    .titulo-comunidad {
        font-size: 1.8rem;
    }
}